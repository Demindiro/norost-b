cargo-features = ["strip"]

[workspace]

members = [
	"kernel",
	"boot/amd64",
	"drivers/virtio_block",
	"drivers/virtio_net",
	"lib/rust/endian",
	"lib/rust/pci",
	"lib/rust/virtio",
	"lib/rust/virtio_net",
	"lib/rust/volatile",
	"lib/rust/rt",
	"base/hello_std",
	"base/minish",
]

[profile.dev]
panic = "abort"
opt-level = 3

[profile.release]
panic = "abort"
lto = "fat"
#strip = "symbols"

[profile.release.package.noraboot]
codegen-units = 1
opt-level = 'z'
#strip = "symbols"

[patch.crates-io]
os_str_bytes = { git = "https://git.sr.ht/~demindiro/os_str_bytes", branch = "norost" }
atty = { git = "https://git.sr.ht/~demindiro/atty", branch = "norost" }
dirs-next = { git = "https://git.sr.ht/~demindiro/dirs", branch = "norost" }
